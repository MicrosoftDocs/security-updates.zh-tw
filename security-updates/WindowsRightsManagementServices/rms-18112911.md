---
TOCTitle: RMS 撤銷運作方式
Title: RMS 撤銷運作方式
ms:assetid: '469e3938-a59b-4c92-9779-ead64e724d00'
ms:contentKeyID: 18112911
ms:mtpsurl: 'https://technet.microsoft.com/zh-tw/library/Cc720263(v=WS.10)'
---

RMS 撤銷運作方式
================

撤銷的作用是防止繫結，在繫結要求時如果有撤銷的實體，這個程序可允許使用者使用內容。撤銷是透過發佈到用戶端電腦的撤銷清單所建置的。這些清單是已簽署的 XrML 檔案，其中指定發行清單的主體所撤銷的內容、應用程式、使用者或其他主體。

使用者每次嘗試使用保護內容時，相關的 RMS 相容應用程式即會向 RMS 用戶端傳送適當權限的繫結要求。例如，如果使用者嘗試開啟檔案，應用程式會要求可開啟檔案的「檢視」權限。如果使用者嘗試編輯檔案，則應用程式會要求「編輯」權限。

處理繫結要求時，RMS 用戶端會執行下列步驟：

1.  它會為任何撤銷清單需求評估使用授權。
2.  如果使用授權需要撤銷，用戶端元件會根據使用授權中指定的重新整理間隔，確認指定的撤銷清單是否為最新的、已註冊的以及現用的。
3.  它會驗證簽署撤銷清單的主體，在使用授權是否指定為允許撤銷授權的主體。
4.  如果這些檢查都成功執行，用戶端元件就會判斷原始繫結要求中的任何主體是否已經被撤銷。如果已經撤銷，則會拒絕繫結要求。

撤銷清單可由系統管理員發佈到用戶端電腦中，也可在使用授權要求時由 RMS 相容應用程式下載到電腦中。使用撤銷清單來繫結內容時，只要應用程式維持開啟狀態，就會註冊該清單，而且並用來繫結要求與其他使用授權。關閉應用程式後，即取消註冊撤銷清單。

下圖顯示繫結程序，並說明撤銷在此程序中的運作。

![](images/Cc720263.81aa2d70-d261-49ad-b446-96a2eddba1a5(WS.10).gif)

撤銷是選擇性的。RMS 系統管理員可在一個或多個組織權限原則範本中進行指定，來要求撤銷。要求撤銷時，除非要求的撤銷清單在使用者電腦上是最新的、已註冊的，而且比使用授權中指定的重新整理間隔還要新，否則授權無法繫結。

不過，請記住很重要的一點，即使特定使用授權不要求撤銷，但是它對此授權仍有作用。只要繫結要求中信任鏈內任何憑證的發行者發行了在用戶端電腦上註冊的撤銷清單，撤銷就會生效。在這種情況下，撤銷清單會用來處理繫結要求，即使包含的使用授權沒有要求撤銷也是一樣。直到關閉 RMS 相容應用程式，取消註冊撤銷清單後，情況才有所改變。

例如，如果使用者嘗試使用部分內容，其使用授權 (由實體 A 發行) 要求由實體 A 所發行的撤銷清單，則 RMS 相容應用程式會從使用權限中指定的 URL 取得撤銷清單，然後再進行註冊。處理繫結要求時，RMS 用戶端會檢查可能撤銷的撤銷清單：

保持 RMS 相容應用程式的開啟狀態，然後使用者可嘗試使用部分內容，其使用授權同樣由實體 A 所發行。儘管此使用權限不含撤銷條件，但實體 A 的撤銷清單當時已註冊到使用者電腦中。此時，用戶端元件將在處理繫結要求時，先檢查撤銷清單。

接下來，使用者試著使用實體 C 發行的使用授權內容。 該使用授權不包括撤銷條件。由於在用戶端電腦上唯一註冊的撤銷清單是實體 A 所發行的撤銷清單，因此實體 A 不在使用授權的信任鏈中，而該繫結也不會有任何生效的撤銷。

最後，使用者關閉 RMS 相容應用程式，然後重新開啟不含撤銷條件的其他部分內容。由於關閉應用程式時，由實體 A 所發行的撤銷清單已取消註冊，因此 RMS 用戶端處理繫結要求時不會檢查撤銷清單。
