---
TOCTitle: 4338110
Title: Microsoft 資訊安全諮詢 4338110
---

Microsoft 資訊安全諮詢 4338110
===================================

使用填補的 CBC 模式對稱式解密的計時弱點
-----------------------------------------------------------------------------

發行日期：2018 年 6 月 12 日

**版本：** 1.0

一般資訊
-------------------

### 提要

Microsoft 宣布針對應用程式或服務內對稱式加密的「加密區塊鏈結」(CBC) 模式用法的指引提供更新。根據目前已知的密碼編譯研究，Microsoft 認為除了在非常特殊的情況下，若未先確認加密文字的完整性即套用可驗證的填補，則解密使用對稱式加密的「加密區塊鏈結」(CBC) 模式所加密的資料，不再安全。 
已知名為「填補預示攻擊」的弱點類別已經存在 10 年以上，這類弱點會允許攻擊者使用每個資料區塊不到 4096 次嘗試，解密以對稱式區塊演算法 (AES 和 3DES) 加密的資料。這些弱點最後會利用區塊編碼器最常與可驗證的填補資料搭配使用的事實。研究發現，如果攻擊者可以竄改加密文字，並且了解竄改是否在最後對填補的格式造成錯誤，攻擊者就能解密資料。

**建議**：Microsoft 建議任何具有機密性的資料必須透過「傳輸層安全性」(TLS，「安全通訊端層」(SSL) 的接續者) 傳輸。根據目前的研究，一般認為 (對於加密的非 AE 模式) 獨立執行驗證和加密步驟時，驗證加密文字 (加密並簽署) 是最佳選項。然而，加密沒有統一的標準，並且這種普遍的做法比不上專業加密人員所指導的建議。Microsoft 建議，若應用程式無法變更其訊息格式，但能執行未驗證的 CBC 解密，則應嘗試併入緩和措施。 

總而言之，若要安全地使用填補的 CBC 區塊編碼器，在嘗試解密資料之前，您必須先將區塊編碼器與您使用常數時間比較來驗證的機碼式雜湊訊息驗證碼 (HMAC) (或其他資料完整性檢查) 結合。由於所有變更的訊息都會花費相同的時間來產生回應，因而免於遭受攻擊。為了協助尋找此弱點的例子，Microsoft 已發行指引，說明如何依照更新版文件所述進行程式碼檢閱：使用填補的 CBC 模式對稱式解密的計時弱點

諮詢詳細資料
----------------

### 問題參考

如需這個問題的詳細資訊，請參閱下列參考資料：


<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">一般資訊</td>
<td style="border:1px solid black;"><a href="https://docs.microsoft.com/dotnet/standard/security/vulnerabilities-cbc-mode">使用填補的 CBC 模式對稱式解密的計時弱點</a></td>
</tr>
</tbody>
</table>
  
### 其他建議動作
  
-   **保護您的電腦**   
    我們持續鼓勵客戶依照「保護您的電腦」中的指引啟用防火牆、取得軟體更新，以及安裝防毒軟體。如需詳細資訊，請參閱 [Microsoft 資訊安全中心](http://www.microsoft.com/zh-tw/security/default.aspx)。
  
-   **讓 Microsoft 軟體保持最新狀態**   
    執行 Microsoft 軟體的使用者應套用最新的 Microsoft 安全性更新，以確保電腦盡可能受到完善的保護。如果您不確定軟體是否為最新，請造訪 [Microsoft Update](http://go.microsoft.com/fwlink/?linkid=40747)，掃描電腦尋找可用的更新，並安裝提供給您的任何高優先順序的更新。如果您啟用了自動更新，並將其設成為提供 Microsoft 產品更新，更新就會在發行時傳送給您，但您仍應確認更新程式已確實安裝。
  
其他資訊  
-----------------

### Microsoft 主動保護計畫 (MAPP)
  
為了增強客戶的安全性保護，Microsoft 將在每月發行安全性更新之前，提前向重要安全性軟體提供者提供弱點資訊。安全性軟體提供者可利用此弱點資訊，透過其安全性軟體或裝置 (如防毒軟體、網路入侵偵測系統、或主機入侵預防系統)，為客戶提供更新的保護措施。如果要判斷是否有資訊安全軟體提供者的主動保護可用，請造訪由 [Microsoft 主動保護計畫 (MAPP) 合作夥伴](http://go.microsoft.com/fwlink/?linkid=215201) (英文) 上列出的計畫合作夥伴所提供的主動保護計畫網站。
  
### 意見反應
  
-   您可以填寫 Microsoft 技術支援服務表格 ([客戶服務：與我們連絡](http://support.microsoft.com/zh-tw?scid=sw;en;1257&amp;showpage=1&amp;ws=technet&amp;sd=tech)) 來提供意見反應。
  
### 支援
  
-   美國及加拿大地區客戶可洽詢[安全性支援](http://go.microsoft.com/fwlink/?linkid=21131)以取得技術支援。如需詳細資訊，請參閱 [Microsoft 說明及支援](http://support.microsoft.com/)。  
-   不同國家/地區的客戶，可以從當地的 Microsoft 分公司取得支援。如需詳細資訊，請參閱[多語系支援](http://go.microsoft.com/fwlink/?linkid=21155)。  
-   [Microsoft TechNet](http://go.microsoft.com/fwlink/?linkid=21132) 資訊安全網站提供 Microsoft 產品安全性的其他相關資訊。
  
### 免責聲明
  
本摘要報告中的資訊係以其「現狀」提供，並不提供任何形式之擔保。Microsoft 不做任何明示或默示的責任擔保，包括適售性以及適合某特定用途之擔保責任。無論任何情況下的損害，Microsoft Corporation 及其供應商皆不負任何法律責任，包括直接、間接、偶發、衍生性、所失業務利益或特殊損害。即使 Microsoft Corporation 及其供應商已被告知此類損害的可能性亦不負任何責任。某些地區不允許排除及限制衍生性或附隨損害賠償責任，因此前述限制不適用於這些地區。
  
### 修訂
  
-   V1.0 (2018 年 6 月 12 日)：諮詢發行。  
  

